(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),c=a.n(l),u=(a(53),a(1)),o=(a(54),a(7)),s=a.n(o);var m=function(e){var t=e.socket,a=Object(n.useRef)(),l=Object(n.useRef)(),c=Object(n.useRef)(),o=Object(n.useState)(),s=Object(u.a)(o,2),m=s[0],i=s[1];return Object(n.useEffect)((function(){t.emit("getItem",e.id,(function(e){i(e[0].name)}))})),r.a.createElement("div",{className:"itemMenuBox"},r.a.createElement("form",{onSubmit:function(a){a.preventDefault();var n={id:e.id,price:l.current.value,soldFor:c.current.value};/^&|^[a-zA-Z0-9 / ,.-]+$/.test(c.value)&&(isNaN(n.price)||(t.emit("sellItem",n),e.refreshItems(),e.handleModal()))},ref:a},r.a.createElement("span",null,"Sprzedajesz ",m),r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Cena",ref:l,autoFocus:!0,required:!0})),r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Kupujacy (opcjonalnie)",ref:c})),r.a.createElement("p",null,r.a.createElement("button",{type:"submit",className:"menuButton",value:"Submit"},"Sprzedaj"))))};s.a.setAppElement("#root");var i=function(e){var t=e.socket,a=Object(n.useState)(!1),l=Object(u.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(0),d=Object(u.a)(i,2),f=d[0],p=d[1];return r.a.createElement("div",{className:"currentContainer"},e.items.map((function(t,a){return r.a.createElement("div",{className:"itemSlot currentColumns",id:t.id,key:a},r.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.name),1===t.type?r.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.size,"  (",t.length," x ",t.width,")"):r.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.size),r.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},10===(n=t.cond)?"DS":n+"/10"),r.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.buyPrice," z\u0142"),r.a.createElement("p",null,r.a.createElement("button",{className:"noteButton sellButton",onClick:function(){return function(e){o(!0),p(e)}(t.id)}},"$")),r.a.createElement("p",null,r.a.createElement("button",{className:"noteButton deleteButton",id:t.id,onClick:function(t){window.confirm("Napewno usunac przedmiot?")&&e.deleteItem(t)}},"x")));var n})),r.a.createElement(s.a,{isOpen:c,className:"modalContent",overlayClassName:"modalOverlay",onRequestClose:function(){return o(!1)}},r.a.createElement(m,{socket:t,id:f,handleModal:function(){o(!c)},refreshItems:e.refreshItems})))};var d=function(e){return r.a.createElement("div",{className:"soldContainer"},e.items.map((function(t,a){return r.a.createElement("div",{className:"itemSlot soldColumns",id:"",key:a},r.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.name),1===t.type?r.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.size," (",t.length," x ",t.width,")"):r.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.size),r.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},10===(n=t.cond)?"DS":n+"/10"),r.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.buyPrice," z\u0142"),r.a.createElement("p",{id:"earnings",onClick:function(){return e.itemInfo(t.id)}},t.sellPrice-t.buyPrice," z\u0142"),r.a.createElement("p",null,r.a.createElement("button",{className:"noteButton deleteButton",id:t.id,onClick:function(t){window.confirm("Napewno usunac przedmiot?")&&e.deleteItem(t)}},"x")));var n})))};var f=function(e){return r.a.createElement("p",null,"coming soon")};var p=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),l=Object(n.useRef)(),c=Object(n.useRef)(),u=Object(n.useRef)(),o=[a,l,c,u];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{ref:t,onSubmit:function(t){t.preventDefault();var n={name:a.current.value,price:c.current.value,size:l.current.value,cond:u.current.value,type:e.itemType,ownerID:e.userID},r=0,s=!0,m=!1,i=void 0;try{for(var d,f=o[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var p=d.value;/^[a-zA-Z0-9 / ,.-]+$/.test(p.current.value)?++r===o.length&&(isNaN(n.price)||isNaN(n.cond)||(e.socket.emit("addItem",n),e.refreshItems(),e.handleModal())):alert("Cos poszlo nie tak")}}catch(E){m=!0,i=E}finally{try{s||null==f.return||f.return()}finally{if(m)throw i}}},className:"addItemForm"},r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Nazwa",ref:a,autoFocus:!0,required:!0,spellCheck:"false"})),r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Rozmiar",ref:l,required:!0})),r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Cena",ref:c,required:!0})),r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Stan",ref:u,required:!0})),r.a.createElement("p",null,r.a.createElement("button",{type:"submit",className:"addButton",value:"Submit"},"Dodaj"))))};var E=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),l=Object(n.useRef)(),c=Object(n.useRef)(),u=Object(n.useRef)(),o=Object(n.useRef)(),s=Object(n.useRef)(),m=[a,l,c,u,o,s];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{ref:t,onSubmit:function(t){t.preventDefault();var n={name:a.current.value,price:c.current.value,size:l.current.value,length:o.current.value,width:s.current.value,cond:u.current.value,type:e.itemType,ownerID:e.userID},r=0,i=!0,d=!1,f=void 0;try{for(var p,E=m[Symbol.iterator]();!(i=(p=E.next()).done);i=!0){var h=p.value;/^[a-zA-Z0-9 / ,.-]+$/.test(h.current.value)?++r===m.length&&(isNaN(n.price)||isNaN(n.cond)||isNaN(n.length)||isNaN(n.width)||(e.socket.emit("addItem",n),e.refreshItems(),e.handleModal())):alert("Cos poszlo nie tak")}}catch(v){d=!0,f=v}finally{try{i||null==E.return||E.return()}finally{if(d)throw f}}},className:"addItemForm"},r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Nazwa",ref:a,autoFocus:!0,required:!0,spellCheck:"false"})),r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Rozmiar",ref:l,required:!0})),r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Dlugosc",ref:o,required:!0})),r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Szerokosc",ref:s,required:!0})),r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Cena",ref:c,required:!0})),r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Stan",ref:u,required:!0})),r.a.createElement("p",null,r.a.createElement("button",{type:"submit",className:"addButton",value:"Submit"},"Dodaj"))))};var h=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),l=Object(n.useRef)(),c=Object(n.useRef)(),u=Object(n.useRef)(),o=[a,l,c,u];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{ref:t,onSubmit:function(t){t.preventDefault();var n={name:a.current.value,price:c.current.value,size:l.current.value,cond:u.current.value,type:e.itemType,ownerID:e.userID},r=0,s=!0,m=!1,i=void 0;try{for(var d,f=o[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var p=d.value;/(^$)|^[a-zA-Z0-9 / ,.-]+$/.test(p.current.value)?++r===o.length&&(isNaN(n.price)||isNaN(n.cond)||(e.socket.emit("addItem",n),e.refreshItems(),e.handleModal("add"))):alert("Cos poszlo nie tak")}}catch(E){m=!0,i=E}finally{try{s||null==f.return||f.return()}finally{if(m)throw i}}},className:"addItemForm"},r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Nazwa",ref:a,autoFocus:!0,required:!0,spellCheck:"false"})),r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Rozmiar",ref:l})),r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Cena",ref:c,required:!0})),r.a.createElement("p",null,r.a.createElement("input",{placeholder:"Stan",ref:u,required:!0})),r.a.createElement("p",null,r.a.createElement("button",{type:"submit",className:"addButton",value:"Submit"},"Dodaj"))))};var v=function(e){var t=Object(n.useState)(1),a=Object(u.a)(t,2),l=a[0],c=a[1];return r.a.createElement("div",{className:"addItemContainer"},r.a.createElement("div",{className:"itemType"},r.a.createElement("input",{type:"radio",name:"itemTypeRadio",id:"clothes",value:"clothes",className:"addRadio",onChange:function(){return c(1)},defaultChecked:!0}),r.a.createElement("label",{htmlFor:"clothes"},r.a.createElement("img",{src:"https://hypehub.s3.eu-central-1.amazonaws.com/img/shirt.png",alt:"Item clothes",className:"itemIcon",id:"clothesIcon"})),r.a.createElement("input",{type:"radio",name:"itemTypeRadio",id:"shoes",value:"shoes",className:"addRadio",onChange:function(){return c(2)}}),r.a.createElement("label",{htmlFor:"shoes"},r.a.createElement("img",{src:"https://hypehub.s3.eu-central-1.amazonaws.com/img/shoe.png",alt:"Item shoes",className:"itemIcon",id:"shoeIcon"})),r.a.createElement("input",{type:"radio",name:"itemTypeRadio",id:"accessories",value:"3",className:"addRadio",onChange:function(){return c(3)}}),r.a.createElement("label",{htmlFor:"accessories"},r.a.createElement("img",{src:"https://hypehub.s3.eu-central-1.amazonaws.com/img/accessories.png",alt:"Item Accessories",className:"itemIcon",id:"hatIcon"}))),function(t){switch(t){case 1:return r.a.createElement(E,{userID:e.userID,itemType:t,socket:e.socket,refreshItems:e.refreshItems,handleModal:function(){return e.handleModal()}});case 2:return r.a.createElement(p,{userID:e.userID,itemType:t,socket:e.socket,refreshItems:e.refreshItems,handleModal:function(){return e.handleModal()}});case 3:return r.a.createElement(h,{userID:e.userID,itemType:t,socket:e.socket,refreshItems:e.refreshItems,handleModal:function(){return e.handleModal()}});default:return r.a.createElement(E,{userID:e.userID,itemType:t,socket:e.socket,refreshItems:e.refreshItems,handleModal:function(){return e.handleModal()}})}}(l))};s.a.setAppElement("#root");var b=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],c=a[1];function o(){c(!l)}return r.a.createElement("div",{className:"noteMenu"},r.a.createElement("button",{className:"noteButton",id:"addButton",onClick:function(){return o()}},"Dodaj"),r.a.createElement(s.a,{isOpen:l,className:"modalContent",overlayClassName:"modalOverlay",onRequestClose:function(){return o()}},r.a.createElement(v,{socket:e.socket,userID:e.userID,refreshItems:e.refreshItems,handleModal:o})))};a(65),a(66),a(67);var I=function(e){var t=e.item,a=Object(n.useRef)(),l=Object(n.useRef)(0),c=Object(n.useRef)(0),u=Object(n.useRef)(0),o=Object(n.useRef)(0),s=Object(n.useRef)(0),m=Object(n.useRef)(0),i=Object(n.useRef)(0),d=[l,c,u,o,s,m,i];return r.a.createElement("div",{className:"modify"},r.a.createElement("form",{ref:a,onSubmit:function(a){a.preventDefault();var n={id:t.id,name:l.current.value,buyPrice:u.current.value,sellPrice:o.current.value,size:c.current.value,length:m.current.value,width:i.current.value,cond:s.current.value,type:e.itemType,ownerID:e.userID};0===t.sold&&(n.sellPrice=0),1!==t.type&&(n.length=0,n.width=0);var r=0;for(var f in n)/^[a-zA-Z0-9 / ,.-]+$/.test(f.value)?++r===d.length&&(isNaN(n.buyPrice)||isNaN(n.sellPrice)||isNaN(n.cond)||isNaN(n.length)||isNaN(n.width)?alert("Ktores z pol nie jest liczba"):(e.socket.emit("updateItem",n),e.refreshItems(),e.handleModal(),console.log("shuold update"))):alert("Cos poszlo nie tak")},className:"modifyForm"},r.a.createElement("p",null,r.a.createElement("input",{ref:l,autoFocus:!0,required:!0,defaultValue:t.name,spellCheck:"false"}),r.a.createElement("span",null,"Nazwa")),r.a.createElement("p",null,r.a.createElement("input",{ref:c,required:!0,defaultValue:t.size}),r.a.createElement("span",null,"Rozmiar")),1===t.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("input",{ref:m,required:!0,defaultValue:t.length}),r.a.createElement("span",null,"Dlugosc")),r.a.createElement("p",null,r.a.createElement("input",{ref:i,required:!0,defaultValue:t.width}),r.a.createElement("span",null,"Szerokosc"))),r.a.createElement("p",null,r.a.createElement("input",{ref:u,required:!0,defaultValue:t.buyPrice}),r.a.createElement("span",null,"Cena kupna")),1===t.sold&&r.a.createElement("p",{id:t.id},r.a.createElement("input",{ref:o,required:!0,defaultValue:t.sellPrice}),r.a.createElement("span",null,"Cena sprzedazy")),r.a.createElement("p",null,r.a.createElement("input",{ref:s,required:!0,defaultValue:t.cond}),r.a.createElement("span",null,"Stan")),r.a.createElement("p",null,r.a.createElement("button",{type:"submit",className:"addButton",value:"Submit"},"Zapisz zmiany"))))};var N=function(e){var t=e.socket,a=Object(n.useState)(!1),l=Object(u.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(),m=Object(u.a)(s,2),i=m[0],d=m[1],f=Object(n.useState)(1),p=Object(u.a)(f,2),E=p[0],h=p[1];return Object(n.useEffect)((function(){!c&&t.emit("getItem",e.itemID,(function(e){d(e[0]),o(!0)}))})),c&&r.a.createElement("div",{className:"itemInfoContainer"},r.a.createElement("div",{className:"itemMenu"},r.a.createElement("input",{type:"radio",name:"itemMenu",id:"info",className:"detailsRadio",onChange:function(){return h(1)},defaultChecked:!0}),r.a.createElement("label",{htmlFor:"info"},"Informacje"),r.a.createElement("input",{type:"radio",name:"itemMenu",id:"edit",className:"detailsRadio",onChange:function(){return h(2)}}),r.a.createElement("label",{htmlFor:"edit"},"Edytuj"),r.a.createElement("input",{type:"radio",name:"itemMenu",id:"tools",className:"detailsRadio",onChange:function(){return h(3)}}),r.a.createElement("label",{htmlFor:"tools"},"Narzedzia")),r.a.createElement("div",{className:"itemContent"},function(a){switch(a){case 1:break;case 2:return r.a.createElement(I,{item:i,refreshItems:e.refreshItems,handleModal:e.handleModal,socket:t});case 3:return r.a.createElement("p",null," test narzedzia ")}}(E)))},k=a(6),y=a(8);var j={Render:function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(0),m=Object(u.a)(o,2),p=m[0],E=m[1],h=e.socket;function v(t){h.emit("deleteItem",t.target.id),e.refreshItems()}function I(e){E(e),c(!0)}return r.a.createElement(k.a,null,r.a.createElement("div",{className:"tableContainer"},r.a.createElement("div",{className:"noteTableNavi"},r.a.createElement(k.c,{className:"link naviButton",activeClassName:"active",to:"/note/current"},"Aktualne"),r.a.createElement(k.c,{className:"link naviButton",to:"/note/sold"},"Sprzedane"),r.a.createElement(k.c,{className:"link naviButton",to:"/note/pending"},"Zamowione")),r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/note/sold"},r.a.createElement("div",{className:"itemsInfo soldColumns"},r.a.createElement("span",null,"Nazwa"),r.a.createElement("span",null,"Rozmiar"),r.a.createElement("span",null,"Stan"),r.a.createElement("span",null,"Cena kupna"),r.a.createElement("span",null,"Profit"))),r.a.createElement(y.b,{path:"/"},r.a.createElement("div",{className:"itemsInfo currentColumns"},r.a.createElement("span",null,"Nazwa"),r.a.createElement("span",null,"Rozmiar"),r.a.createElement("span",null,"Stan"),r.a.createElement("span",null,"Cena kupna"),r.a.createElement("span",null,"Sprzedaj")))),r.a.createElement("div",{className:"noteContent"},r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/note/sold"},r.a.createElement(d,{items:e.soldItems,deleteItem:v,itemInfo:function(e){return I(e)}})),r.a.createElement(y.b,{path:"/note/pending"},r.a.createElement(f,null)),r.a.createElement(y.b,{path:"/"},r.a.createElement(i,{socket:h,itemInfo:function(e){return I(e)},items:e.currentItems,deleteItem:v,refreshItems:e.refreshItems})))),r.a.createElement(b,{socket:h,userID:e.userID,refreshItems:e.refreshItems}),r.a.createElement(s.a,{isOpen:l,className:"modalContent",overlayClassName:"modalOverlay",onRequestClose:function(){return c(!1)}},r.a.createElement(N,{socket:h,handleModal:function(){c(!l)},itemID:p,refreshItems:e.refreshItems}))))}};var g=function(){return r.a.createElement("div",{className:"resellContainer"},r.a.createElement("div",{className:"tableContainer"},r.a.createElement("p",null,"jeszcze nie gotowe")))};var C=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],c=a[1],o=e.socket,s=Object(n.useRef)(),m=Object(n.useRef)();return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"loginBox",id:"loginBox",onSubmit:function(t){t.preventDefault();var a={username:s.current.value,password:m.current.value};for(var n in a)/^[a-zA-Z0-9 /,.-]+$/.test(n.value)&&o.emit("login",a);o.on("success",(function(t){e.handleLogin(t),localStorage.setItem("token",t.token),localStorage.setItem("id",t.id)})),o.on("failed",(function(e){c(!0)}))}},r.a.createElement("form",null,l&&r.a.createElement("label",null,"Login lub haslo nieprawidlowe"),r.a.createElement("input",{placeholder:"Login",ref:s,autoFocus:!0,required:!0}),r.a.createElement("input",{type:"password",placeholder:"Haslo",ref:m,required:!0}),r.a.createElement("button",{type:"submit",className:"menuButton"},"Zaloguj"))))},O=(a(70),a(47)),z=a.n(O)()("https://hypehub-js.herokuapp.com"),S={},R=localStorage.getItem("token"),w=localStorage.getItem("id"),D=[],M=[];var q=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2)[1],a=Object(n.useState)((function(){z.emit("checkLog",R,w),z.on("success",(function(e){S=e,s(),o(!0)})),z.on("failed",(function(){o(!1)}))})),l=Object(u.a)(a,2),c=l[0],o=l[1];function s(){z.emit("getCurrentItems",(function(e){D=e,t(!0)})),z.emit("getSoldItems",(function(e){M=e,t(!1)})),setTimeout((function(){z.emit("getCurrentItems",(function(e){D=e,t(!0)})),z.emit("getSoldItems",(function(e){M=e,t(!1)}))}),750)}return r.a.createElement(k.a,null,r.a.createElement("div",{className:"App",id:"root"},r.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Assistant:400,700&display=swap",rel:"stylesheet"}),c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"userInfo"},r.a.createElement("p",null,"Zalogowano jako ",S.username),r.a.createElement("p",{className:"naviElement"},"Moje konto"),r.a.createElement("p",{className:"naviElement",onClick:function(){o(!1),localStorage.removeItem("id"),localStorage.removeItem("token")}},"Wyloguj")),r.a.createElement("div",{className:"navigation"},r.a.createElement(k.b,{className:"topMenu link naviElement",to:"/"},"NOTE"),r.a.createElement(k.b,{className:"topMenu link naviElement",to:"bulk"},"BULK")),r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/bulk"},r.a.createElement(g,null)),r.a.createElement(y.b,{path:"/"},r.a.createElement(j.Render,{socket:z,currentItems:D,soldItems:M,refreshItems:s,userID:S.id})),r.a.createElement(y.a,{to:"/"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.b,{path:"/home"},r.a.createElement(C,{handleLogin:function(e){return function(e){S=e,s(),o(!0)}(e)},socket:z})),r.a.createElement(y.a,{to:"/home"}))))};c.a.render(r.a.createElement(q,null),document.getElementById("root"))},48:function(e,t,a){e.exports=a(102)},53:function(e,t,a){},54:function(e,t,a){},65:function(e,t){},66:function(e,t){},70:function(e,t,a){},99:function(e,t){}},[[48,1,2]]]);
//# sourceMappingURL=main.e7354c3b.chunk.js.map