(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(25),c=a.n(r),u=(a(53),a(1)),o=(a(54),a(7)),s=a.n(o);var i=function(e){var t=e.socket,a=Object(n.useRef)(),r=Object(n.useRef)(),c=Object(n.useRef)(),o=Object(n.useState)(),s=Object(u.a)(o,2),i=s[0],m=s[1];return Object(n.useEffect)((function(){t.emit("getItem",e.id,(function(e){m(e[0].name)}))})),l.a.createElement("div",{className:"itemMenuBox"},l.a.createElement("form",{onSubmit:function(a){a.preventDefault();var n={id:e.id,price:r.current.value,soldFor:c.current.value};/^&|^[a-zA-Z0-9 / ,.-]+$/.test(c.value)&&(isNaN(n.price)||(t.emit("sellItem",n),e.refreshItems(),e.handleModal()))},ref:a},l.a.createElement("span",null,"Sprzedajesz ",i),l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Cena",ref:r,autoFocus:!0,required:!0})),l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Kupujacy (opcjonalnie)",ref:c})),l.a.createElement("p",null,l.a.createElement("button",{type:"submit",className:"menuButton",value:"Submit"},"Sprzedaj"))))};s.a.setAppElement("#root");var m=function(e){var t=e.socket,a=Object(n.useState)(!1),r=Object(u.a)(a,2),c=r[0],o=r[1],m=Object(n.useState)(0),d=Object(u.a)(m,2),f=d[0],p=d[1];return l.a.createElement("div",{className:"currentContainer"},e.items.map((function(t,a){return l.a.createElement("div",{className:"itemSlot currentColumns",id:t.id,key:a},l.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.name),1===t.type?l.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.size,"  (",t.length," x ",t.width,")"):l.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.size),l.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},10===(n=t.cond)?"DS":n+"/10"),l.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.buyPrice," z\u0142"),l.a.createElement("p",null,l.a.createElement("button",{className:"noteButton sellButton",onClick:function(){return function(e){o(!0),p(e)}(t.id)}},"$")),l.a.createElement("p",null,l.a.createElement("button",{className:"noteButton deleteButton",id:t.id,onClick:function(t){window.confirm("Napewno usunac przedmiot?")&&e.deleteItem(t)}},"x")));var n})),l.a.createElement(s.a,{isOpen:c,className:"modalContent",overlayClassName:"modalOverlay",onRequestClose:function(){return o(!1)}},l.a.createElement(i,{socket:t,id:f,handleModal:function(){o(!c)},refreshItems:e.refreshItems})))};var d=function(e){return l.a.createElement("div",{className:"soldContainer"},e.items.map((function(t,a){return l.a.createElement("div",{className:"itemSlot soldColumns",id:"",key:a},l.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.name),1===t.type?l.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.size," (",t.length," x ",t.width,")"):l.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.size),l.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},10===(n=t.cond)?"DS":n+"/10"),l.a.createElement("p",{onClick:function(){return e.itemInfo(t.id)}},t.buyPrice," z\u0142"),l.a.createElement("p",{id:"earnings",onClick:function(){return e.itemInfo(t.id)}},t.sellPrice-t.buyPrice," z\u0142"),l.a.createElement("p",null,l.a.createElement("button",{className:"noteButton deleteButton",id:t.id,onClick:function(t){window.confirm("Napewno usunac przedmiot?")&&e.deleteItem(t)}},"x")));var n})))};var f=function(e){return l.a.createElement("p",null,"coming soon")};var p=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),r=Object(n.useRef)(),c=Object(n.useRef)(),u=Object(n.useRef)(),o=[a,r,c,u];return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{ref:t,onSubmit:function(t){t.preventDefault();var n={name:a.current.value,price:c.current.value,size:r.current.value,cond:u.current.value,type:e.itemType,ownerID:e.userID},l=0,s=!0,i=!1,m=void 0;try{for(var d,f=o[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var p=d.value;/^[a-zA-Z0-9 / ,.-]+$/.test(p.current.value)?++l===o.length&&(isNaN(n.price)||isNaN(n.cond)||(e.socket.emit("addItem",n),e.refreshItems(),e.handleModal())):alert("Cos poszlo nie tak")}}catch(E){i=!0,m=E}finally{try{s||null==f.return||f.return()}finally{if(i)throw m}}},className:"addItemForm"},l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Nazwa",ref:a,autoFocus:!0,required:!0,spellCheck:"false"})),l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Rozmiar",ref:r,required:!0})),l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Cena",ref:c,required:!0})),l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Stan",ref:u,required:!0})),l.a.createElement("p",null,l.a.createElement("button",{type:"submit",className:"addButton",value:"Submit"},"Dodaj"))))};var E=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),r=Object(n.useRef)(),c=Object(n.useRef)(),u=Object(n.useRef)(),o=Object(n.useRef)(),s=Object(n.useRef)(),i=[a,r,c,u,o,s];return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{ref:t,onSubmit:function(t){t.preventDefault();var n={name:a.current.value,price:c.current.value,size:r.current.value,length:o.current.value,width:s.current.value,cond:u.current.value,type:e.itemType,ownerID:e.userID},l=0,m=!0,d=!1,f=void 0;try{for(var p,E=i[Symbol.iterator]();!(m=(p=E.next()).done);m=!0){var h=p.value;/^[a-zA-Z0-9 / ,.-]+$/.test(h.current.value)?++l===i.length&&(isNaN(n.price)||isNaN(n.cond)||isNaN(n.length)||isNaN(n.width)||(e.socket.emit("addItem",n),e.refreshItems(),e.handleModal())):alert("Cos poszlo nie tak")}}catch(v){d=!0,f=v}finally{try{m||null==E.return||E.return()}finally{if(d)throw f}}},className:"addItemForm"},l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Nazwa",ref:a,autoFocus:!0,required:!0,spellCheck:"false"})),l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Rozmiar",ref:r,required:!0})),l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Dlugosc",ref:o,required:!0})),l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Szerokosc",ref:s,required:!0})),l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Cena",ref:c,required:!0})),l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Stan",ref:u,required:!0})),l.a.createElement("p",null,l.a.createElement("button",{type:"submit",className:"addButton",value:"Submit"},"Dodaj"))))};var h=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),r=Object(n.useRef)(),c=Object(n.useRef)(),u=Object(n.useRef)(),o=[a,r,c,u];return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{ref:t,onSubmit:function(t){t.preventDefault();var n={name:a.current.value,price:c.current.value,size:r.current.value,cond:u.current.value,type:e.itemType,ownerID:e.userID},l=0,s=!0,i=!1,m=void 0;try{for(var d,f=o[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var p=d.value;/(^$)|^[a-zA-Z0-9 / ,.-]+$/.test(p.current.value)?++l===o.length&&(isNaN(n.price)||isNaN(n.cond)||(e.socket.emit("addItem",n),e.refreshItems(),e.handleModal("add"))):alert("Cos poszlo nie tak")}}catch(E){i=!0,m=E}finally{try{s||null==f.return||f.return()}finally{if(i)throw m}}},className:"addItemForm"},l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Nazwa",ref:a,autoFocus:!0,required:!0,spellCheck:"false"})),l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Rozmiar",ref:r})),l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Cena",ref:c,required:!0})),l.a.createElement("p",null,l.a.createElement("input",{placeholder:"Stan",ref:u,required:!0})),l.a.createElement("p",null,l.a.createElement("button",{type:"submit",className:"addButton",value:"Submit"},"Dodaj"))))};var v=function(e){var t=Object(n.useState)(1),a=Object(u.a)(t,2),r=a[0],c=a[1];return l.a.createElement("div",{className:"addItemContainer"},l.a.createElement("div",{className:"itemType"},l.a.createElement("input",{type:"radio",name:"itemTypeRadio",id:"clothes",value:"clothes",className:"addRadio",onChange:function(){return c(1)},defaultChecked:!0}),l.a.createElement("label",{htmlFor:"clothes"},l.a.createElement("img",{src:"https://hypehub.s3.eu-central-1.amazonaws.com/img/shirt.png",alt:"Item clothes",className:"itemIcon",id:"clothesIcon"})),l.a.createElement("input",{type:"radio",name:"itemTypeRadio",id:"shoes",value:"shoes",className:"addRadio",onChange:function(){return c(2)}}),l.a.createElement("label",{htmlFor:"shoes"},l.a.createElement("img",{src:"https://hypehub.s3.eu-central-1.amazonaws.com/img/shoe.png",alt:"Item shoes",className:"itemIcon",id:"shoeIcon"})),l.a.createElement("input",{type:"radio",name:"itemTypeRadio",id:"accessories",value:"3",className:"addRadio",onChange:function(){return c(3)}}),l.a.createElement("label",{htmlFor:"accessories"},l.a.createElement("img",{src:"https://hypehub.s3.eu-central-1.amazonaws.com/img/accessories.png",alt:"Item Accessories",className:"itemIcon",id:"hatIcon"}))),function(t){switch(t){case 1:return l.a.createElement(E,{userID:e.userID,itemType:t,socket:e.socket,refreshItems:e.refreshItems,handleModal:function(){return e.handleModal()}});case 2:return l.a.createElement(p,{userID:e.userID,itemType:t,socket:e.socket,refreshItems:e.refreshItems,handleModal:function(){return e.handleModal()}});case 3:return l.a.createElement(h,{userID:e.userID,itemType:t,socket:e.socket,refreshItems:e.refreshItems,handleModal:function(){return e.handleModal()}});default:return l.a.createElement(E,{userID:e.userID,itemType:t,socket:e.socket,refreshItems:e.refreshItems,handleModal:function(){return e.handleModal()}})}}(r))};s.a.setAppElement("#root");var b=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],c=a[1];function o(){c(!r)}return l.a.createElement("div",{className:"noteMenu"},l.a.createElement("button",{className:"noteButton",id:"addButton",onClick:function(){return o()}},"Dodaj"),l.a.createElement(s.a,{isOpen:r,className:"modalContent",overlayClassName:"modalOverlay",onRequestClose:function(){return o()}},l.a.createElement(v,{socket:e.socket,userID:e.userID,refreshItems:e.refreshItems,handleModal:o})))};a(65),a(66),a(67);var I=function(e){var t=e.item,a=Object(n.useRef)(),r=Object(n.useRef)(0),c=Object(n.useRef)(0),u=Object(n.useRef)(0),o=Object(n.useRef)(0),s=Object(n.useRef)(0),i=Object(n.useRef)(0),m=Object(n.useRef)(0),d=[r,c,u,o,s,i,m];return l.a.createElement("div",{className:"modify"},l.a.createElement("form",{ref:a,onSubmit:function(a){a.preventDefault();var n={id:t.id,name:r.current.value,buyPrice:u.current.value,sellPrice:o.current.value,size:c.current.value,length:i.current.value,width:m.current.value,cond:s.current.value,type:e.itemType,ownerID:e.userID};0===t.sold&&(n.sellPrice=0),1!==t.type&&(n.length=0,n.width=0);var l=0;for(var f in n)/^[a-zA-Z0-9 / ,.-]+$/.test(f.value)?++l===d.length&&(isNaN(n.buyPrice)||isNaN(n.sellPrice)||isNaN(n.cond)||isNaN(n.length)||isNaN(n.width)?alert("Ktores z pol nie jest liczba"):(e.socket.emit("updateItem",n),e.refreshItems(),e.handleModal(),console.log("shuold update"))):alert("Cos poszlo nie tak")},className:"modifyForm"},l.a.createElement("p",null,l.a.createElement("input",{ref:r,autoFocus:!0,required:!0,defaultValue:t.name,spellCheck:"false"}),l.a.createElement("span",null,"Nazwa")),l.a.createElement("p",null,l.a.createElement("input",{ref:c,required:!0,defaultValue:t.size}),l.a.createElement("span",null,"Rozmiar")),1===t.type&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("input",{ref:i,required:!0,defaultValue:t.length}),l.a.createElement("span",null,"Dlugosc")),l.a.createElement("p",null,l.a.createElement("input",{ref:m,required:!0,defaultValue:t.width}),l.a.createElement("span",null,"Szerokosc"))),l.a.createElement("p",null,l.a.createElement("input",{ref:u,required:!0,defaultValue:t.buyPrice}),l.a.createElement("span",null,"Cena kupna")),1===t.sold&&l.a.createElement("p",{id:t.id},l.a.createElement("input",{ref:o,required:!0,defaultValue:t.sellPrice}),l.a.createElement("span",null,"Cena sprzedazy")),l.a.createElement("p",null,l.a.createElement("input",{ref:s,required:!0,defaultValue:t.cond}),l.a.createElement("span",null,"Stan")),l.a.createElement("p",null,l.a.createElement("button",{type:"submit",className:"addButton",value:"Submit"},"Zapisz zmiany"))))};var N=function(e){var t=e.socket,a=Object(n.useState)(!1),r=Object(u.a)(a,2),c=r[0],o=r[1],s=Object(n.useState)(),i=Object(u.a)(s,2),m=i[0],d=i[1],f=Object(n.useState)(1),p=Object(u.a)(f,2),E=p[0],h=p[1];return Object(n.useEffect)((function(){!c&&t.emit("getItem",e.itemID,(function(e){d(e[0]),o(!0)}))})),c&&l.a.createElement("div",{className:"itemInfoContainer"},l.a.createElement("div",{className:"itemMenu"},l.a.createElement("input",{type:"radio",name:"itemMenu",id:"info",className:"detailsRadio",onChange:function(){return h(1)},defaultChecked:!0}),l.a.createElement("label",{htmlFor:"info"},"Informacje"),l.a.createElement("input",{type:"radio",name:"itemMenu",id:"edit",className:"detailsRadio",onChange:function(){return h(2)}}),l.a.createElement("label",{htmlFor:"edit"},"Edytuj"),l.a.createElement("input",{type:"radio",name:"itemMenu",id:"tools",className:"detailsRadio",onChange:function(){return h(3)}}),l.a.createElement("label",{htmlFor:"tools"},"Narzedzia")),l.a.createElement("div",{className:"itemContent"},function(a){switch(a){case 1:break;case 2:return l.a.createElement(I,{item:m,refreshItems:e.refreshItems,handleModal:e.handleModal,socket:t});case 3:return l.a.createElement("p",null," test narzedzia ")}}(E)))},k=a(6),y=a(8);var j={Render:function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(0),i=Object(u.a)(o,2),p=i[0],E=i[1],h=e.socket;function v(t){h.emit("deleteItem",t.target.id),e.refreshItems()}function I(e){E(e),c(!0)}return l.a.createElement(k.a,null,l.a.createElement("div",{className:"tableContainer"},l.a.createElement("div",{className:"noteTableNavi"},l.a.createElement(k.c,{className:"link naviButton",activeClassName:"active",to:"/note/current"},"Aktualne"),l.a.createElement(k.c,{className:"link naviButton",to:"/note/sold"},"Sprzedane"),l.a.createElement(k.c,{className:"link naviButton",to:"/note/pending"},"Zamowione")),l.a.createElement(y.d,null,l.a.createElement(y.b,{path:"/note/sold"},l.a.createElement("div",{className:"itemsInfo soldColumns"},l.a.createElement("span",null,"Nazwa"),l.a.createElement("span",null,"Rozmiar"),l.a.createElement("span",null,"Stan"),l.a.createElement("span",null,"Cena kupna"),l.a.createElement("span",null,"Profit"))),l.a.createElement(y.b,{path:"/"},l.a.createElement("div",{className:"itemsInfo currentColumns"},l.a.createElement("span",null,"Nazwa"),l.a.createElement("span",null,"Rozmiar"),l.a.createElement("span",null,"Stan"),l.a.createElement("span",null,"Cena kupna"),l.a.createElement("span",null,"Sprzedaj")))),l.a.createElement("div",{className:"noteContent"},l.a.createElement(y.d,null,l.a.createElement(y.b,{path:"/note/sold"},l.a.createElement(d,{items:e.soldItems,deleteItem:v,itemInfo:function(e){return I(e)}})),l.a.createElement(y.b,{path:"/note/pending"},l.a.createElement(f,null)),l.a.createElement(y.b,{path:"/"},l.a.createElement(m,{socket:h,itemInfo:function(e){return I(e)},items:e.currentItems,deleteItem:v,refreshItems:e.refreshItems})))),l.a.createElement(b,{socket:h,userID:e.userID,refreshItems:e.refreshItems}),l.a.createElement(s.a,{isOpen:r,className:"modalContent",overlayClassName:"modalOverlay",onRequestClose:function(){return c(!1)}},l.a.createElement(N,{socket:h,handleModal:function(){c(!r)},itemID:p,refreshItems:e.refreshItems}))))}};var g=function(){return l.a.createElement("div",{className:"resellContainer"},l.a.createElement("div",{className:"tableContainer"},l.a.createElement("p",null,"jeszcze nie gotowe")))};var C=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],c=a[1],o=e.socket,s=Object(n.useRef)(),i=Object(n.useRef)();return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"loginBox",id:"loginBox",onSubmit:function(t){t.preventDefault();var a={username:s.current.value,password:i.current.value};for(var n in a)/^[a-zA-Z0-9 /,.-]+$/.test(n.value)&&o.emit("login",a);o.on("success",(function(t){e.handleLogin(t),localStorage.setItem("token",t.token),localStorage.setItem("id",t.id)})),o.on("failed",(function(e){c(!0)}))}},l.a.createElement("form",null,r&&l.a.createElement("label",null,"Login lub haslo nieprawidlowe"),l.a.createElement("input",{placeholder:"Login",ref:s,autoFocus:!0,required:!0}),l.a.createElement("input",{type:"password",placeholder:"Haslo",ref:i,required:!0}),l.a.createElement("button",{type:"submit",className:"menuButton"},"Zaloguj"))))},O=(a(70),a(47)),z=a.n(O)()("http://localhost"),S={},R=localStorage.getItem("token"),w=localStorage.getItem("id"),D=[],M=[];var q=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2)[1],a=Object(n.useState)((function(){z.emit("checkLog",R,w),z.on("success",(function(e){S=e,s(),o(!0)})),z.on("failed",(function(){o(!1)}))})),r=Object(u.a)(a,2),c=r[0],o=r[1];function s(){z.emit("getCurrentItems",(function(e){D=e,t(!0)})),z.emit("getSoldItems",(function(e){M=e,t(!1)})),setTimeout((function(){z.emit("getCurrentItems",(function(e){D=e,t(!0)})),z.emit("getSoldItems",(function(e){M=e,t(!1)}))}),750)}return l.a.createElement(k.a,null,l.a.createElement("div",{className:"App",id:"root"},l.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Assistant:400,700&display=swap",rel:"stylesheet"}),c?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"userInfo"},l.a.createElement("p",null,"Zalogowano jako ",S.username),l.a.createElement("p",{className:"naviElement"},"Moje konto"),l.a.createElement("p",{className:"naviElement",onClick:function(){o(!1),localStorage.removeItem("id"),localStorage.removeItem("token")}},"Wyloguj")),l.a.createElement("div",{className:"navigation"},l.a.createElement(k.b,{className:"topMenu link naviElement",to:"/"},"NOTE"),l.a.createElement(k.b,{className:"topMenu link naviElement",to:"bulk"},"BULK")),l.a.createElement(y.d,null,l.a.createElement(y.b,{path:"/bulk"},l.a.createElement(g,null)),l.a.createElement(y.b,{path:"/"},l.a.createElement(j.Render,{socket:z,currentItems:D,soldItems:M,refreshItems:s,userID:S.id})),l.a.createElement(y.a,{to:"/"}))):l.a.createElement(l.a.Fragment,null,l.a.createElement(y.b,{path:"/"},l.a.createElement(C,{handleLogin:function(e){return function(e){S=e,s(),o(!0)}(e)},socket:z})),l.a.createElement(y.a,{to:"/"}))))};c.a.render(l.a.createElement(q,null),document.getElementById("root"))},48:function(e,t,a){e.exports=a(102)},53:function(e,t,a){},54:function(e,t,a){},65:function(e,t){},66:function(e,t){},70:function(e,t,a){},99:function(e,t){}},[[48,1,2]]]);
//# sourceMappingURL=main.6a2b849e.chunk.js.map